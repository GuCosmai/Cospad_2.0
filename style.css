:root{
    --bg-1: #0b1020;
    --card: rgba(255,255,255,0.06);
    --muted: rgba(255,255,255,0.6);
    --accent: #ffc107;
}

*{box-sizing:border-box}
body {
    margin: 0;
    padding: 24px;
    font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    background: linear-gradient(180deg, var(--bg-1), rgba(12,16,30,0.9)), url('Space-Background-Image-3-1536x1024.jpg') center/cover no-repeat;
    color: #e6eef8;
}

.parent {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
}
    
.header {
    background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
    padding: 16px 20px;
    border-radius: 8px;
    box-shadow: 0 8px 30px rgba(2,6,23,0.6);
    display:flex;
    align-items:center;
    justify-content:space-between;
    flex-wrap: wrap;
}

.header h1{margin:0;font-weight:700;color:var(--accent)}

.brand {
    font-size: 36px;
    margin: 0;
    font-weight: 800;
    background: linear-gradient(90deg,#7c3aed,#f43f5e,#2563eb);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: -1px;
}
.brand-sub{margin:6px 0 0 0;color:rgba(255,255,255,0.7);font-size: 14px;}

.theme-toggle-btn{background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));border-radius:8px;padding:8px;border:1px solid rgba(255,255,255,0.04);display:inline-flex;align-items:center;justify-content:center}
.theme-toggle-btn .icon{display:none;color:rgba(255,255,255,0.95)}
body:not(.light-theme) .theme-toggle-btn .icon-sun{display:inline-block}
body.light-theme .theme-toggle-btn .icon-moon{display:inline-block}

.BibliotecaDeAudio, .options, .pads, .faixas {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    margin: 0;
    padding: 12px;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(2,6,23,0.55);
    border: 1px solid rgba(255,255,255,0.04);
}

.BibliotecaDeAudio h2{margin:0 0 8px 0}
.BibliotecaDeAudio #audio-drop-zone{
    background: rgba(255,255,255,0.03);
    border-radius:8px;
    border: 1px dashed rgba(255,255,255,0.08);
}
.audio-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:6px;background:rgba(255,255,255,0.02)}

.options {
    text-align: center;
}

.options button{border:none;cursor:pointer}

.pads h1{margin-top:0}
.drum-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(100px, 1fr));gap:12px}

/* Garante estilos aplicados diretamente ao elemento com id usado no HTML */
#drum-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(100px, 1fr));gap:12px}

.drum-pad{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:12px;
    padding: clamp(10px, 2.5vw, 18px);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    aspect-ratio: 1 / 1; /* garante pad quadrado */
    min-height: 84px;
    cursor:pointer;
    border:2px solid transparent;
    transition:all .12s ease;
    position: relative;
    overflow: hidden;
}
.drum-pad:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(2,6,23,0.6)}
.drum-pad .key{font-size: clamp(18px, 4.5vw, 28px); font-weight:700}
.drum-pad .label{font-size: clamp(10px, 2.2vw, 12px); color:var(--muted); margin-top:6px}
.drum-pad .edit-btn{position:absolute;top:8px;right:8px;background:rgba(0,0,0,0.25);border-radius:6px;padding:4px}

.active-pad{transform:translateY(2px) scale(.98);opacity:.95}

.tracks-list .track-row{display:flex;flex-direction: column; align-items:flex-start; gap: 8px; justify-content:space-between;padding:8px;background:rgba(255,255,255,0.02);border-radius:8px}
.tracks-list .track-row .name{font-weight:600}
.tracks-list .track-row .controls{display:flex;gap:8px;align-items:center; width: 100%; justify-content: space-between;}

.hidden{display:none}

.manual-footer{position:fixed;left:0;right:0;bottom:0;background:linear-gradient(180deg,rgba(0,0,0,0.9),rgba(0,0,0,0.95));color:#fff;padding:20px 24px;box-shadow:0 -8px 30px rgba(0,0,0,0.6);z-index:60; overflow-y: auto; max-height: 100vh;}
.manual-footer .manual-content{max-width:1100px;margin:0 auto}
.manual-footer h2{margin:0 0 8px 0}
.manual-footer ul{margin:8px 0 12px 18px}
.manual-footer .bg-gray-300{background:#fff;color:#111}

#edit-modal .w-1\/3 {
    width: 90%;
    max-width: 500px;
}

@media (min-width: 768px) {
    .parent {
        display: grid;
        grid-template-columns: 2fr 1fr;
        grid-template-areas:
            "header header"
            "pads options"
            "audio audio"
            "faixas faixas";
        gap: 16px;
    }

    .header { grid-area: header; }
    .pads { grid-area: pads; }
    .options { grid-area: options; }
    .BibliotecaDeAudio { grid-area: audio; }
    .faixas { grid-area: faixas; }

    .brand { font-size: 44px; }
    .brand-sub { font-size: initial; }
    .tracks-list .track-row{flex-direction: row;}
    .tracks-list .track-row .controls{width: auto;}
}

@media (min-width: 1200px) {
    .parent {
        grid-template-columns: 2fr 1fr 2fr;
        grid-template-rows: auto 1fr auto;
        grid-template-areas:
            "header header header"
            "audio options pads"
            "faixas faixas faixas";
        height: calc(100vh - 48px);
    }
    .BibliotecaDeAudio, .options, .pads, .faixas {
        margin: 6px;
    }
}

/* Estilos adicionais para responsividade em telas pequenas */
/* Aplica as regras diretamente ao ID usado no HTML/JS */
#drum-grid{
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
    gap: 12px;
    grid-auto-rows: 1fr;
}

/* Ajustes para telas pequenas (telefones) */
@media (max-width: 600px) {
    body { padding: 12px; }
    .header { padding: 12px; }
    .brand { font-size: clamp(20px, 6vw, 32px); }
    .brand-sub { font-size: 12px; }
    .header { align-items: center; }
    .header .header-actions { width: 100%; margin-top: 8px; justify-content: flex-end; }

    /* reduz espaçamento do grid de pads */
    #drum-grid { gap: 8px; }

    /* pads menores e textos reduzidos */
    .drum-pad { padding: 10px; min-height: 72px; }
    .pads h1 { font-size: 1.25rem; }

    /* opções e botões ocupam largura total em telas pequenas */
    .options button, .options .options-extra > * { width: 100%; display: block; }
    .options .mt-4 { display:flex; gap:8px; }
    .options .mt-4 button { flex: 1; }

    .tracks-list .track-row { flex-direction: column; align-items: stretch; }
    .tracks-list .track-row .controls { width: 100%; justify-content: space-between; gap: 6px; flex-wrap:wrap; }

    /* Modal de edição ocupa quase toda largura */
    #edit-modal .w-1\/3 { width: 96%; max-width: 520px; }

    /* Esconde a coluna de opções por padrão em telas pequenas e mostra apenas quando .open */
    .options { display: none; }
    .options.open { display: block; position: fixed; right: 12px; top: 70px; width: calc(100% - 24px); max-width: 420px; z-index: 80; box-shadow: 0 12px 40px rgba(0,0,0,0.6); }
}

    /* overlay para o menu mobile */
    .menu-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.45); z-index: 70; }
    .menu-overlay.hidden { display: none; }

    /* Esconder o botão Menu em telas maiores */
    @media (min-width: 601px) {
        #menu-toggle { display: none; }
    }

    /* Em telas muito pequenas, transformar menu em bottom-sheet para melhor ergonomia */
    @media (max-width: 420px) {
        .options.open { right: 0; left: 0; top: auto; bottom: 0; width: 100%; max-width: none; border-radius: 12px 12px 0 0; padding-bottom: 20px; }
    }

/* Ajustes extras para dispositivos muito estreitos */
@media (max-width: 400px) {
    .brand { font-size: 20px; }
    .brand-sub { display: none; }
    .theme-toggle-btn { padding: 6px; }
    .drum-pad .key { font-size: 18px; }
    .drum-pad .label { font-size: 10px; }
    .manual-footer .manual-content{ padding: 12px; }
}

/* Small polish: garante que botões e inputs toquem a largura disponível em pequenos e médios dispositivos */
button, input[type="range"], input[type="text"], select {
    max-width: 100%;
}
